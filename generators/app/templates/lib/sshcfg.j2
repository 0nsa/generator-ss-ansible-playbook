# vi: set ft=sshconfig :
# Don't edit this file directly.
# This file is generated by make-sshcfg command.
# This file should be included in .gitignore.
{% for env, env_data in data.items() %}
  {% for role, role_data in env_data.items() %}
    {% for idx, host_data in role_data.vms.items() %}
Host {{role}}-{{idx}}.{{env}}
  HostName {{host_data.ip}}
  User {{ role_data.params.user if role_data.params.user is not none else '' }}
  IdentityFile ssh-keys/{{role}}.{{env}}
  UserKnownHostsFile ssh-keys/known_hosts
    {% endfor %}
  {% endfor %}
{% endfor %}
